# Dev-only config overlay: excludes heavy static directories (pdfs,
# pdf-thumbnails, pagefind) from Hugo's static mounts to speed up
# server startup.  Without this, Hugo processes 59K+ files on every
# start, taking ~2 minutes.
#
# PDFs and thumbnails are still served via symlinks created by
# start-dev-server.sh.  Search is unavailable during dev; run
# `npm run reindex` if needed.
#
# Used by scripts/start-dev-server.sh via --config flag.

[module]
  # Override static mounts to include only lightweight directories.
  # Hugo's default mount maps the entire static/ directory; specifying
  # explicit mounts replaces that default.  Heavy directories (pdfs,
  # pdf-thumbnails, pagefind) are excluded here and served via symlinks.
  [[module.mounts]]
    source = "static/fonts"
    target = "static/fonts"
  [[module.mounts]]
    source = "static/images"
    target = "static/images"
  [[module.mounts]]
    source = "static/ox-hugo"
    target = "static/ox-hugo"
  [[module.mounts]]
    source = "static/ltximg"
    target = "static/ltximg"

  # Content, data, layouts, etc. still use default mounts (Hugo merges
  # mount types independently, so only "static" is affected here).
  [[module.mounts]]
    source = "content"
    target = "content"
  [[module.mounts]]
    source = "data"
    target = "data"
  [[module.mounts]]
    source = "layouts"
    target = "layouts"
  [[module.mounts]]
    source = "assets"
    target = "assets"
  [[module.mounts]]
    source = "archetypes"
    target = "archetypes"
